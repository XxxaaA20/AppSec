Скрипты должны лежать в каталоге /opt/scripts/jenkins/

clearJenkinsWorkspace.sh - очищает каталог, в котором работала джоба. Сделано так, потому что иногда плагин cleanws не срабатывает или срабатывает хреново. Но и этот вариант тоже не сильно хорош, другого пока не придумали.

createNewProject.sh - создает на хосте с дженкинсом корректную структуру каталогов для нового проекта и добавляет в нее шаблоны сканеров. Запускается из Gitlab_start и Bitbucket_start. В скрипте нужно вместо gitlab.com и stash.com подставить свои значения. Также нужно в последней строчке указать свои авторизационные данные для ключа -auth (https://www.jenkins.io/doc/book/managing/cli/#http-connection-mode).

sedProductType.sh - скрипт получает из ссылки название неймспейса. Нужно для того, чтобы задать параметр product_type для отправки в DefectDOJO. В скрипте нужно вместо gitlab.com подставить своё значение.

sedProductName.sh - скрипт получает из ссылки весь путь после названия неймспейса. Нужно для того, чтобы задать параметр product_name для отправки в DefectDOJO. В скрипте нужно вместо gitlab.com подставить своё значение.

massChangeGitLab.sh - при изменении шаблонов пайплайнов сканеров, скрипт обновит их во всех каталогах с джобами. После этого лучше сделать рестарт всего дженкинса (systemctl restart jenkins). * если рестарт зафейлится, делаем systemctl stop jenkins, потом systemctl start jenkins - всегда срабатывало, но просрется очередь на сканы.

semgrep.cutpathhome.sh - скрипт удаляет из пути до файла в репозитории лишнее начало /home/, чтобы из доджи нормально работали ссылки на файлы в репе.

sedLink4.sh - скрипт удаляет из ссылки на репозиторий всё, кроме пути до файла, чтобы корректно запускать нужный пайплайн в правильном каталоге. Приписывает -gitlab или -bitbucket в зависимости от системы.

sedLink3.sh - скрипт получает путь до текущего каталога, чтобы запускать следующий сканер в цепочке.

projectFolder.sh - скрипт удаляет перенос строки. Нужно для работы с данными из Bitbucket.